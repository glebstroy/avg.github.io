"use strict";(self.webpackChunkavg=self.webpackChunkavg||[]).push([[776],{2479:function(e,t,n){n.d(t,{Il:function(){return l},om:function(){return u},O_:function(){return m}});var a=n(7294),r=n(6125),c=n(5444);var l=function(e){var t=e.type,n=e.sub,l=e.title,u=e.size,s=e.howMany,o=e.price,m=e.image,i=e.slug,d=(0,r.d)(m);return a.createElement("div",{className:"product"},a.createElement("div",null,a.createElement(r.G,{image:d,alt:l,className:"product__image"}),a.createElement("h3",{className:"product__title"}," ",l),a.createElement("h4",{className:"product__sub"},n.name),a.createElement("div",{className:"product__info"},u&&a.createElement("p",{className:"product__info-params"},"Размер: ",u),s&&a.createElement("p",{className:"product__info-params"},"Кол-во в 1 п.м: ",s),o&&a.createElement("p",{className:"product__info-price"},o.pref?a.createElement("span",null,o.pref," "):"",o.cost,a.createElement("span",null,o.price_type))),a.createElement(c.Link,{className:"product__link button-link",to:"/"+t+"/"+i},"Подробнее")))};var u=function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"product__empty"},a.createElement("div",{className:"product__empty-box"},a.createElement(r.S,{src:"../../images/icons/empty-box.png",__imageData:n(5072)}),a.createElement("p",null,"Скоро тут появятся новые товары 🙂"))))},s=n(8631),o=n(3133);var m=function(){var e=(0,o.Z)(),t=(0,s.v9)((function(e){return e.products.data.allMdx.nodes})),n=(0,a.useState)(0),r=n[0],c=n[1],u=(0,a.useState)(310),m=u[0],i=u[1],d=(0,a.useState)(1),p=d[0],f=d[1],b=(0,a.useState)(null),E=b[0],g=b[1],_=(0,a.useRef)();return a.useEffect((function(){var e=_.current;g(e),setInterval((function(){c((function(e){return e+1}))}),15e3)}),[]),a.useMemo((function(){e>1240&&f(4),e<1240&&f(e/m),p-Math.round(p)<0&&i(310),p-Math.round(p)>0&&i(e/Math.round(p))}),[e,p,m]),a.useMemo((function(){null!==E&&r<=E.children.length/Math.round(p)?E.style.transform="translateX(-"+m*r*Math.round(p)+"px)":c(0)}),[r]),a.createElement("div",{className:"products-slider"},a.createElement("div",{className:"slider-box",ref:_},t&&t.map((function(e){return a.createElement(l,Object.assign({key:e.id},e.frontmatter,{slug:e.slug}))}))))}},9513:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(7294),r=n(8631),c=n(9313),l=n(3751),u=n(9224),s=n(3133),o=[{category:"Тротуарная плитка",sub:["Вибропрессованная","Вибролитая"]},{category:"Водостоки",sub:[]},{category:"Ступени для крыльца",sub:[]},{category:"Фасадная плитка",sub:[]},{category:"Бордюры",sub:["Садовый бордюр","Дорожный бордюр"]},{category:"Сыпучие материалы",sub:["Песок","Щебень","Цемент в мешках","Сухие смеси"]}];var m=function(e){var t=a.useState("Все"),n=t[0],c=t[1],l=a.useState(!0),m=l[0],i=l[1],d=a.useRef(),p=(0,s.Z)(),f=Object.values(e),b=(0,r.I0)(),E=function(e){var t=f.filter((function(t){return t.frontmatter.category.name===e.target.innerText||t.frontmatter.sub.name===e.target.innerText})).map((function(t){switch(e.target.innerText){case t.frontmatter.category.name:return t.frontmatter.category.alt;case t.frontmatter.sub.name:return t.frontmatter.sub.alt;default:return t.frontmatter.type}})).slice(-1);b((0,u.P)(t[0])),g(e)},g=function(e){p<920&&(i((function(e){return!e})),d.current.style.display=m?"block":"",c(e.target.innerText))};return a.createElement("div",{className:"sidebar"},p<920&&a.createElement("div",{className:"sidebar__title"},a.createElement("h5",null,a.createElement("button",{className:"sidebar__button",onClick:g},n))),a.createElement("ul",{className:"sidebar__ul",ref:d},a.createElement("li",null,a.createElement("h5",null,a.createElement("button",{className:"sidebar__button",onClick:function(e){return b((0,u.P)("products"))&&g(e)}},"Все"))),o.map((function(e,t){return a.createElement("li",{key:t},a.createElement("h5",null,a.createElement("button",{className:"sidebar__button",onClick:E},e.category)),e.sub!==[]&&a.createElement("ul",null,e.sub.map((function(e,t){return a.createElement("li",{key:t},a.createElement("h6",null,a.createElement("button",{className:"sidebar__button",onClick:E},e)))}))))}))))},i=n(2479),d=function(){var e=(0,r.v9)((function(e){return e.products.data.allMdx.nodes})),t=(0,r.v9)((function(e){return e.filter.category})),n=e.filter((function(e){return e.frontmatter.type===t||e.frontmatter.category.alt===t||e.frontmatter.sub.alt===t}));return a.createElement(a.Fragment,null,a.createElement(c.Z,null,a.createElement(l.Z,{title:"Продукция"}),a.createElement("div",{className:"products-image"}),a.createElement("section",{className:"products"},a.createElement("div",{className:"container m-a"},a.createElement("div",{className:"products-box"},a.createElement(m,e),t?a.createElement("div",{className:"products__list"},n.map((function(e){return a.createElement(i.Il,Object.assign({key:e.id},e.frontmatter,{slug:e.slug}))}))):a.createElement(i.om,null))))))}},9224:function(e,t,n){n.d(t,{P:function(){return a}});var a=function(e){return{type:"SET_CATEGORY",payload:e}}},5072:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#0898d8","images":{"fallback":{"src":"/static/2de9e9663e56c144e9a54eee79e34407/98419/empty-box.png","srcSet":"/static/2de9e9663e56c144e9a54eee79e34407/7eabf/empty-box.png 200w,\\n/static/2de9e9663e56c144e9a54eee79e34407/5b8d0/empty-box.png 400w,\\n/static/2de9e9663e56c144e9a54eee79e34407/98419/empty-box.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/2de9e9663e56c144e9a54eee79e34407/faf2a/empty-box.webp 200w,\\n/static/2de9e9663e56c144e9a54eee79e34407/92496/empty-box.webp 400w,\\n/static/2de9e9663e56c144e9a54eee79e34407/c6814/empty-box.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":742}')}}]);
//# sourceMappingURL=component---src-pages-products-index-js-b505da6fb73442d903c2.js.map