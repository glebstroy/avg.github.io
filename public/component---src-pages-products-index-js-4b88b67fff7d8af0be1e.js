"use strict";(self.webpackChunkavg=self.webpackChunkavg||[]).push([[776],{2479:function(e,t,n){n.d(t,{Il:function(){return l},om:function(){return u},O_:function(){return i}});var r=n(7294),a=n(6125),c=n(5444);var l=function(e){var t=e.type,n=e.sub,l=e.title,u=e.size,s=e.price,o=e.image,i=e.slug,m=(0,a.d)(o);return r.createElement("div",{className:"product"},r.createElement("div",null,r.createElement(a.G,{image:m,alt:l,className:"product__image"}),r.createElement("h3",{className:"product__title"}," ",l),r.createElement("h4",{className:"product__sub"},n.name),r.createElement("div",{className:"product__info"},r.createElement("p",{className:"product__info-size"},"Размер: ",u),r.createElement("p",{className:"product__info-price"},s.pref?r.createElement("span",null,s.pref," "):"",s.cost,r.createElement("span",null,s.price_type))),r.createElement(c.Link,{className:"product__link button-link",to:"/"+t+"/"+i},"Подробнее")))};var u=function(){return r.createElement("div",null,"Empty")},s=n(8631),o=n(3133);var i=function(){var e=(0,o.Z)(),t=(0,s.v9)((function(e){return e.products.data.allMdx.nodes})),n=(0,r.useState)(0),a=n[0],c=n[1],u=(0,r.useState)(310),i=u[0],m=u[1],f=(0,r.useState)(1),d=f[0],E=f[1],p=(0,r.useState)(null),b=p[0],g=p[1],v=(0,r.useRef)();return r.useEffect((function(){var e=v.current;g(e),setInterval((function(){c((function(e){return e+1}))}),15e3)}),[]),r.useMemo((function(){e>1240&&E(4),e<1240&&E(e/i),d-Math.round(d)<0&&m(310),d-Math.round(d)>0&&m(e/Math.round(d))}),[e,d,i]),r.useMemo((function(){null!==b&&a<=b.children.length/Math.round(d)?b.style.transform="translateX(-"+i*a*Math.round(d)+"px)":c(0)}),[]),r.createElement("div",{className:"products-slider"},r.createElement("div",{className:"slider-box",ref:v},t&&t.map((function(e){return r.createElement(l,Object.assign({key:e.id},e.frontmatter,{slug:e.slug}))}))))}},9513:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(7294),a=n(8631),c=n(9313),l=n(3751),u=n(9224),s=n(3133),o=[{category:"Тротуарная плитка",sub:["Вибропрессованная","Вибролитая"]},{category:"Водостоки",sub:[]},{category:"Ступени для крыльца",sub:[]},{category:"Фасадная плитка",sub:[]},{category:"Бордюры",sub:["Садовый бордюр","Дорожные бордюры"]},{category:"Сыпучие материалы",sub:["Песок","Щебень","Цемент в мешках","Сухие смеси"]}];var i=function(e){var t=r.useState("Все"),n=t[0],c=t[1],l=r.useState(!0),i=l[0],m=l[1],f=r.useRef(),d=(0,s.Z)(),E=Object.values(e),p=(0,a.I0)(),b=function(e){var t=E.filter((function(t){return t.frontmatter.category.name===e.target.innerText||t.frontmatter.sub.name===e.target.innerText})).map((function(t){switch(e.target.innerText){case t.frontmatter.category.name:return t.frontmatter.category.alt;case t.frontmatter.sub.name:return t.frontmatter.sub.alt;default:return t.frontmatter.type}})).slice(-1);p((0,u.P)(t[0])),g(e)},g=function(e){d<920&&(m((function(e){return!e})),f.current.style.display=i?"block":"",c(e.target.innerText))};return r.createElement("div",{className:"sidebar"},d<920&&r.createElement("div",{className:"sidebar__title"},r.createElement("h5",null,r.createElement("button",{className:"sidebar__button",onClick:g},n))),r.createElement("ul",{className:"sidebar__ul",ref:f},r.createElement("li",null,r.createElement("h5",null,r.createElement("button",{className:"sidebar__button",onClick:function(e){return p((0,u.P)("products"))&&g(e)}},"Все"))),o.map((function(e,t){return r.createElement("li",{key:t},r.createElement("h5",null,r.createElement("button",{className:"sidebar__button",onClick:b},e.category)),e.sub!==[]&&r.createElement("ul",null,e.sub.map((function(e,t){return r.createElement("li",{key:t},r.createElement("h6",null,r.createElement("button",{className:"sidebar__button",onClick:b},e)))}))))}))))},m=n(2479),f=function(){var e=(0,a.v9)((function(e){return e.products.data.allMdx.nodes}));console.log(e);var t=(0,a.v9)((function(e){return e.filter.category})),n=e.filter((function(e){return e.frontmatter.type===t||e.frontmatter.category.alt===t||e.frontmatter.sub.alt===t}));return r.createElement(r.Fragment,null,r.createElement(c.Z,null,r.createElement(l.Z,{title:"Продукция"}),r.createElement("div",{className:"products-image"}),r.createElement("div",{className:"container m-a",style:{marginTop:60}},r.createElement("div",{className:"products-box"},r.createElement(i,e),r.createElement("div",{className:"products"},t?n.map((function(e){return r.createElement(m.Il,Object.assign({key:e.id},e.frontmatter,{slug:e.slug}))})):r.createElement(m.om,null))))))}},9224:function(e,t,n){n.d(t,{P:function(){return r}});var r=function(e){return{type:"SET_CATEGORY",payload:e}}}}]);
//# sourceMappingURL=component---src-pages-products-index-js-4b88b67fff7d8af0be1e.js.map